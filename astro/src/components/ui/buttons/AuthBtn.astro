---
// @/components/ui/buttons/AuthBtn.astro
import LoginBtn from './LoginBtn.astro';
import DashboardBtn from './DashboardBtn.astro';
import { getAuthCookies } from '@/lib/cookie-utils';

const { accessToken } = getAuthCookies(Astro.cookies);

const isAuthenticated = !!accessToken;
---

{isAuthenticated ? <DashboardBtn /> : <LoginBtn />}

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const button = document.querySelector('a, button') as HTMLElement;
    if (button) {
      button.addEventListener('mouseover', () => {
        button.style.animation = 'bounce 0.5s ease infinite';
      });

      button.addEventListener('mouseout', () => {
        button.style.animation = '';
      });
    }
  });
</script>

<style>
  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
  }
</style>
